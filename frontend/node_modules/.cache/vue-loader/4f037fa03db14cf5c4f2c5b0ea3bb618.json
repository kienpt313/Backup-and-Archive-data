{"remainingRequest":"D:\\Language\\Company\\vuejs-mongodb-master\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Language\\Company\\vuejs-mongodb-master\\frontend\\src\\components\\ViewData.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Language\\Company\\vuejs-mongodb-master\\frontend\\src\\components\\ViewData.vue","mtime":1665049357078},{"path":"D:\\Language\\Company\\vuejs-mongodb-master\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661263677011},{"path":"D:\\Language\\Company\\vuejs-mongodb-master\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1661263680693},{"path":"D:\\Language\\Company\\vuejs-mongodb-master\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661263677011},{"path":"D:\\Language\\Company\\vuejs-mongodb-master\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1661263666879}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKXsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIAogICAgICAgICAgICBkYXRhOiBbXSwKICAgICAgICAgICAgZWRpdGVudHJ5OnsKICAgICAgICAgICAgICBfaWQ6IiIsCiAgICAgICAgICAgICAgSVA6IiIsCiAgICAgICAgICAgICAgUGF0aDoiIiwKICAgICAgICAgICAgICBQb2xpY3k6IiIsCgogICAgICAgICAgICB9LAogICAgICAgIH07CiAgICAgICAgCgogICAgfSwKICAgIAogICAgbWV0aG9kczp7CiAgICAgCiAgICAgICAgZ2V0RGF0YSgpewogICAgICAgICAgCiAgICAgICAgICAgY29uc3QgcGF0aCA9ICdodHRwOi8vMTI3LjAuMC4xOjUwMDAvdmlldyc7CiAgICAgICAgICAgIGF4aW9zLmdldChwYXRoKQogICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZGF0YSk7CiAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICB9KQogICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKCiAgICAgICAgb25EZWxldGVEYXRhKGRhdGEpewogICAgICAgICAgCiAgICAgICAgICBjb25zdCBmaW5hbERhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRhdGEpKTsKICAgICAgICAgIHRoaXMucmVtb3ZlRGF0YShmaW5hbERhdGEuX2lkKQogICAgICAgIH0sCgogICAgICAgIHJlbW92ZURhdGEoZGF0YWlkKXsKICAgICAgICAgCiAgICAgICAgIGNvbnN0IHBhdGggPSAnaHR0cDovLzEyNy4wLjAuMTo1MDAwL2RhdGF2aWV3LycrZGF0YWlkLiRvaWQ7CiAgICAgICAgIGNvbnNvbGUubG9nKHBhdGgpCiAgICAgICAgIGF4aW9zLmRlbGV0ZShwYXRoKS50aGVuKCgpPT57CiAgICAgICAgICAgY29uc29sZS5sb2coImRlbGV0ZWQiKQogICAgICAgICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgICAgICB9KQogICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICB0aGlzLmdldERhdGEoKTsKICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIAogICAgICAgIGVkaXREYXRhKGRhdGEpewogICAgICAgICAgdGhpcy5lZGl0ZW50cnkgPSBkYXRhOwogICAgICAgIAogICAgICAgIH0sCgogICAgICAgIHVwZGF0ZXN1Ym1pdCgpewogICAgICAgICAgY29uc3QgZmluYWxEYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmVkaXRlbnRyeSkpOwogICAgICAgICAgCiAgICAgICAgICBjb25zdCBpZD1maW5hbERhdGEuX2lkLiRvaWQKICAgICAgICAgCiAgICAgICAgICBjb25zdCBwYXRoID0gJ2h0dHA6Ly8xMjcuMC4wLjE6NTAwMC9kYXRhdmlldy8nK2lkOwoKICAgICAgICAgIGF4aW9zLnB1dChwYXRoLHsKICAgICAgICAgICAgSVAgICAgICAgOiB0aGlzLmVkaXRlbnRyeS5JUCwKICAgICAgICAgICAgUGF0aCAgIDogdGhpcy5lZGl0ZW50cnkuUGF0aCwKICAgICAgICAgICAgUG9saWN5ICAgICAgICA6IHRoaXMuZWRpdGVudHJ5LlBvbGljeSwKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbigoKT0+ewogICAgICAgICAgICB0aGlzLmdldERhdGEoKTsKICAgICAgICAgICAgCiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKGVycm9yID0+ewogICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICAgICAgdGhpcy5nZXREYXRhKCk7CiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgIAogICAgfSwKICAgIGNyZWF0ZWQoKXsKICAgICAgICAgICAKICAgICAgICAgICAgdGhpcy5nZXREYXRhKCk7CiAgICAgICAgfSwKICAgIAp9Cg=="},{"version":3,"sources":["ViewData.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA","file":"ViewData.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<div >\n  <b-navbar toggleable type=\"dark\" variant=\"dark\">\n    <b-navbar-brand class=\"nav-bar\">Data Collection</b-navbar-brand>\n    <b-navbar-nav class=ml-auto>\n        <b-nav-item class=\"link\" href=\"/\">Backup</b-nav-item>\n    </b-navbar-nav>\n  </b-navbar>\n\n    <div id=\"first\">\n      <table class=\"table table-hover\">\n                <tr>\n                  <th scope=\"col\">Name</th>\n                  <th scope=\"col\">Time</th>\n                  <th scope=\"col\">Status</th>\n                </tr>\n              <tbody>\n               \n                  <tr v-for=\"(data, index) in data\" :key=\"index\">\n                  <td class=\"td1\">{{ data.filename }}</td>\n                  <td class=\"td2\">{{ data.Date }}</td>\n                  <td class=\"td2\">{{ data.StatusStorage }}</td>\n\n                \n                </tr>\n              </tbody>\n    </table>\n    <b-modal ref=\"editDataModal\" id=\"edit-update-modal\" title=\"Update\" hide-footer>\n      <div class=\"updateContainer\">\n       <b-form @submit.prevent=\"updatesubmit\">\n       \n       <b-form-group id=\"input-12\" label=\"IP Name\" label-for=\"input-2\">\n      <b-form-input\n          id=\"input-2\"\n          type=\"String\"\n          v-model=\"editentry.IP\"\n          placeholder=\"IP Name\"\n        ></b-form-input>\n        </b-form-group>\n\n        <b-form-group id=\"input-12\" label=\"Path File\" label-for=\"input-2\">\n        <b-form-input\n          id=\"input-2\"\n          type=\"String\"\n          v-model=\"editentry.Path\"  \n          placeholder=\"Path file\"\n        ></b-form-input>\n      </b-form-group>\n\n      <b-form-group id=\"input-12\" label=\"Policy storage\" label-for=\"input-2\">\n        <b-form-textarea\n          id=\"input-2\"\n          type=\"text\"\n          v-model=\"editentry.Policy\"\n          placeholder=\"Type Policy\"\n          rows=8\n        ></b-form-textarea>\n      </b-form-group>\n    <b-button pill v-on:Click.stop=\"updatesubmit\" @click=\"$bvModal.hide('edit-update-modal')\" id=\"button-2\" type=\"submit\" variant=\"dark\">Update</b-button>\n     \n  </b-form>\n  </div>\n    </b-modal>\n    \n    \n    \n  </div>    \n    </div>\n    \n</template>\n\n\n<script>\nimport axios from 'axios';\nexport default {\n    data(){\n        return{\n            \n            data: [],\n            editentry:{\n              _id:\"\",\n              IP:\"\",\n              Path:\"\",\n              Policy:\"\",\n\n            },\n        };\n        \n\n    },\n    \n    methods:{\n     \n        getData(){\n          \n           const path = 'http://127.0.0.1:5000/view';\n            axios.get(path)\n             .then((res) => {\n                 this.data = res.data;\n                 console.log(this.data);\n                 \n             })\n             .catch((error) => {\n                 console.error(error);\n             });\n        },\n\n        onDeleteData(data){\n          \n          const finalData = JSON.parse(JSON.stringify(data));\n          this.removeData(finalData._id)\n        },\n\n        removeData(dataid){\n         \n         const path = 'http://127.0.0.1:5000/dataview/'+dataid.$oid;\n         console.log(path)\n         axios.delete(path).then(()=>{\n           console.log(\"deleted\")\n           this.getData();\n         })\n         .catch(error => {\n           console.log(error);\n           this.getData();\n         })\n        },\n        \n        editData(data){\n          this.editentry = data;\n        \n        },\n\n        updatesubmit(){\n          const finalData = JSON.parse(JSON.stringify(this.editentry));\n          \n          const id=finalData._id.$oid\n         \n          const path = 'http://127.0.0.1:5000/dataview/'+id;\n\n          axios.put(path,{\n            IP       : this.editentry.IP,\n            Path   : this.editentry.Path,\n            Policy        : this.editentry.Policy,\n          })\n          .then(()=>{\n            this.getData();\n            \n          })\n          .catch(error =>{\n            console.error(error);\n            this.getData();\n          })\n        }\n       \n    },\n    created(){\n           \n            this.getData();\n        },\n    \n}\n</script>\n\n<style>\n\n#first{\nmargin-right: 25px;\nmargin-left: 25px;\n}\n\n\n#input-12{\n align-content: center;\n width:100%;\n padding-left:20px;\n font-weight:bold;\n  \n}\n#button-2{\n  align-content: center;\n  margin-left:40%;\n}\n\n.nav-bar{\n  padding-left: 50px;;\n}\n.link{\n  padding-right:100px;\n  font-size: 20px;\n \n}\n.td1{\n  width:15%;\n}\n.td2{\n  width:70%;\n  \n}\n</style>\n"]}]}